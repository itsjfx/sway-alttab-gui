# sway-alttab keyboard access
# Grants the active console user read access to keyboard devices
# Required for Alt-Tab functionality without root or input group membership
#
# Installation:
#   sudo cp 70-sway-alttab.rules /etc/udev/rules.d/
#   sudo udevadm control --reload-rules
#   sudo udevadm trigger --subsystem-match=input

ACTION=="remove", GOTO="sway_alttab_end"
SUBSYSTEM!="input", GOTO="sway_alttab_end"
KERNEL!="event[0-9]*", GOTO="sway_alttab_end"

# Only match keyboard devices (ID_INPUT_KEYBOARD set by 60-input-id.rules)
ENV{ID_INPUT_KEYBOARD}=="1", TAG+="uaccess"

LABEL="sway_alttab_end"
